"use strict";function asyncGeneratorStep(n,t,e,o,r,a,c){try{var i=n[a](c),s=i.value}catch(n){return void e(n)}i.done?t(s):Promise.resolve(s).then(o,r)}function _asyncToGenerator(i){return function(){var n=this,c=arguments;return new Promise(function(t,e){var o=i.apply(n,c);function r(n){asyncGeneratorStep(o,t,e,r,a,"next",n)}function a(n){asyncGeneratorStep(o,t,e,r,a,"throw",n)}r(void 0)})}}$(function(){var o={cat_one:"all",sort_method:"综合",sort_type:"ASC",current:1,pagesize:60};function n(){return(n=_asyncToGenerator(regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$.get("../server/getTotalPage.php",o,null,"json");case 2:t=n.sent,$(".pagination").pagination({pageCount:t.total,callback:function(n){o.current=n.getCurrent(),e()}});case 4:case"end":return n.stop()}},n)}))).apply(this,arguments)}function e(){return t.apply(this,arguments)}function t(){return(t=_asyncToGenerator(regeneratorRuntime.mark(function n(){var t,e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$.get("../server/getGoodsList.php",o,null,"json");case 2:t=n.sent,console.log(t),t.list,e="",t.list.forEach(function(n){e+='\n            <li>\n                <a data-id="'.concat(n.goods_id,'" class="pic"><img src="').concat(n.goods_big_logo,'" alt="..."/></a>\n                <p class="name">\n                    <a data-id="').concat(n.goods_id,'">').concat(n.goods_name,'</a>\n                </p>\n                <p class="price">\n                    <span class="price-r">￥<span>').concat(n.goods_price,"</span></span>\n                </p>\n            </li>\n            ")}),$(".list-b > ul").html(e);case 8:case"end":return n.stop()}},n)}))).apply(this,arguments)}!function(){n.apply(this,arguments)}(),e(),$(".list-b ul").on("click",".name > a , .pic",function(){var n=$(this).data("id");setCookie("goods_id",n),window.location.href="./detail.html"}),$(window).on("scroll",function(){$(window).scrollTop()>$(window).height()?$(".search-top").fadeIn():$(".search-top").fadeOut()}),$(window).trigger("scroll"),$(".back-top").click(function(){$("body").animate({scrollTop:0},5e3)})});